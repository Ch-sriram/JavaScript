<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <!-- @Boostrap4 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Advanced JS: Objects & Functions - Event Bubbling, Target Element &amp; Event Delegation</title>
    <style type="text/css">
        .display-4 { font-size: 3.2rem; }
        img {
            margin-top: 20px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="display-4 text-center">Event Bubbling, Target Element &amp; Event Delegation</h1>
        
        <p class="lead text-left mt-5">
            Before we know about <mark>Event Delegation</mark>, we have to know about <mark>Event Bubbling</mark> and <mark>Target Elements</mark>.
            We'll understand what Event Bubbling is, with the help of the image below:
            <img src="./assets/img/event-bubbling.png" alt="event-bubbling" class="img-thumbnail"/>
            In the image above, the &lt;button&gt; tag is the red-bordered button. It shows that, that particular button is being clicked, that means that, right now, the particular click event related to that button is being fired/triggered. Therefore, whenever an event is fired/triggered on a DOM element (in this case the &lt;button&gt; element), then that exact same even is also fired/triggered on its immediate parent element, where the triggering of the event is percolated through the child to its top most parent. In this case, when the &lt;button&gt; element is clicked, it triggers the click event of the &lt;button&gt; element itself, then that click is passed to its immediate parent element, which is the &lt;p&gt; element. Therefore the &lt;p&gt; element's click event is also triggered, then that click event at the &lt;p&gt; element passes the event to its immediate parent, which is the &lt;section&gt; element, and now the click event is triggered at the &lt;section&gt; element and so on... the event is percolated till the top most element (the root element in the DOM Tree) which is the &lt;html&gt; element, and further event percolation stops at the root of the DOM Tree. <mark>Here, we can see that the events are bubbling/percolating up inside the DOM Tree and that's why this phenomenon is known as Event Bubbling</mark>. The process of Event Bubbling gives rise to Event Delegation. The images given below depict the explanation above, pictorially.
            <img src="./assets/img/event-bubbling-1.png" alt="event-bubbling-1" class="img-thumbnail"/>
            <img src="./assets/img/event-bubbling-2.png" alt="event-bubbling-2" class="img-thumbnail"/>
            <img src="./assets/img/event-bubbling-3.png" alt="event-bubbling-3" class="img-thumbnail"/>
            <img src="./assets/img/event-bubbling-4.png" alt="event-bubbling-4" class="img-thumbnail"/>

            Before completely diving into Event Delegation, we have to understand one more crucial piece of the puzzle known as Target Element. It is basically the element that caused Event Bubbling, i.e., in our case, <mark>the Target Element that caused Event Bubbling is the &lt;button&gt; element. This &lt;button&gt; element is our Target Element</mark>. The image below depicts what our Target Element is:
            <img src="./assets/img/target-element.png" alt="target-element" class="img-thumbnail"/>
            <strong>The important part is that, this Target Element is stored as a property (known as "target") in the event object. So this means, all the parent elements, on which the event was also fired/triggered will know the Target Element of the event (i.e., where the event was first fired)</strong>, thereby, the event object at all the parent elements also would have the "target" property that would say that the event was generated by this particular child of yours (which is the Target Element) and so on... Now this brings us to Event Delegation, because of this, event bubbles up in the DOM Tree and if we know where the event was fired, then we can simply attach an event handler to the parent element and wait for the event to bubble up and we can then do whatever we intended to do, with our Target Element and this technique is called Event Delegation. In the example image shown below, we can simply add the event handler to the &lt;main&gt; element. 
            <img src="assets/img/event-delegation.png" alt="event-delegation" class="img-thumbnail"/>
            <mark>Therefore, Event Delegation is to NOT setup the event handler on the original element (that we're actually interested in), but to attach it to a parent element and catch the event there, because we know that the event bubbles up. After that, we can then act on the element that we are interested in, using the "target" element property</mark>.<br/> 
            <strong>But why would we actually apply Event Delegation?</strong> There are certain strong use cases for Event Delegation, but out of them all, we have 2 big use cases which are:
            <ol class="lead">
                <li>
                    <strong>
                        When we have elements with lots of child elements which we are interested in.
                    </strong> 
                    In the case where, instead of adding event handlers to all of the child elements, we simply add the event handler to the parent element, and then determine on which child element the event was fired.
                </li>
                
                <li>
                    <strong>
                        When we want an event handler attached to an element that is not yet in the DOM when our page is loaded.
                    </strong> 
                    This is extremely useful because we cannot add an event handler to something which is not available in our webpage.
                </li>
            </ol>

        </p>
        <p class="text-center mt-5">
            Images are taken from: <a href="https://www.udemy.com/the-complete-javascript-course/">JS Course by Jonas Schmedtmann</a>
        </p>
    </div>
</body>
</html>